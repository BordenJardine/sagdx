(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\entities\\CinderProfile.js":[function(require,module,exports){
var CinderProfile = function(game) {
  Phaser.Group.call(this, game);
  this.game = game;
  this.image = null;
  this.name = null;
  this.aboutText = null;
  this.selectionResult = null;
  this.generateProfile();
};

CinderProfile.prototype = Object.create(Phaser.Group.prototype);
CinderProfile.prototype.constructor = CinderProfile;

CinderProfile.prototype.generateProfile = function() {
  // Generate or randomly pick already generated image
  // Generate or randomly pick already generated profile text
  // Generate result of R/L swipes for this profile

  var width = this.game.width;
  var cinderFrameW = this.game.cache.getImage('cinderFrame').width;
  var cinderFrameH = this.game.cache.getImage('cinderFrame').height;
  var offset = (width - cinderFrameW) / 2;

  this.image = this.create(offset, offset, 'cinderFrame');
  this.name = new Phaser.Text(this.game, offset, cinderFrameH + offset, "Ron");
  this.aboutText = new Phaser.Text(this.game,
                                   offset,
                                   this.name.y + this.name.height,
                                   "Hi, my name is Ron!", {
                                     font: '12px Arial'
                                   });
  this.add(this.aboutText);
  this.add(this.name);
};

module.exports = CinderProfile;

},{}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\main.js":[function(require,module,exports){
'use strict';

var game = new Phaser.Game(414, 736, Phaser.AUTO, 'sagdx-game');

window.Utils = require('./utils');
window.playerState = {
  currentLevel: 'Game'
};

game.state.add('Boot', require('./states/boot'));
game.state.add('Splash', require('./states/splash'));
game.state.add('Preloader', require('./states/preloader'));
game.state.add('Menu', require('./states/menu'));
game.state.add('Game', require('./states/game'));

game.state.start('Boot');

},{"./states/boot":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\boot.js","./states/game":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\game.js","./states/menu":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\menu.js","./states/preloader":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\preloader.js","./states/splash":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\splash.js","./utils":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\utils.js"}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\boot.js":[function(require,module,exports){
var Boot = function () {};

module.exports = Boot;

Boot.prototype = {

  preload: function () {
    this.load.image('preloader', 'assets/preloader.gif');
  },

  create: function () {
    this.game.input.maxPointers = 1;
    this.game.stage.backgroundColor = 0xf6f6f2;


    if (this.game.device.desktop) {
      this.game.stage.scale.pageAlignHorizontally = true;
    } else {
      this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
      this.game.scale.minWidth =  480;
      this.game.scale.minHeight = 260;
      this.game.scale.maxWidth = 414;
      this.game.scale.maxHeight = 736;
      this.game.scale.forceLandscape = true;
      this.game.scale.pageAlignHorizontally = true;
      this.game.scale.setScreenSize(true);
    }

    this.game.state.start('Preloader');
  }
};

},{}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\game.js":[function(require,module,exports){
var SwipeManager = require('../utilities/SwipeManager.js');
var CinderProfile = require('../entities/CinderProfile.js');

var Game = function () {
  currentCinderProfile = null
};

Game.prototype = {
  create: function () {
    var x = (this.game.width / 2) - 100;
    var y = (this.game.height / 2);

    this.game.plugins.add(new SwipeManager(this.game, {}, this.onSwipe));

    currentCinderProfile = new CinderProfile(this.game);
  },

  onSwipe: function(swipeDirection) {
    var to = -1000;
    if (swipeDirection == SwipeManager.SWIPE_DIRECTIONS.RIGHT)
      to = 1000;

    console.log(this.onTweenComplete);
    var tween = this.game.add.tween(currentCinderProfile.x)
    tween.onComplete.add(this.onTweenComplete, this);
    tween.to({ x: to }, 100, Phaser.Easing.Quadratic.InOut, true);
    tween.start();
  },

  onTweenComplete: function() {
    alert('here!');
  },

  update: function () {
  }
};

module.exports = Game;

},{"../entities/CinderProfile.js":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\entities\\CinderProfile.js","../utilities/SwipeManager.js":"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\utilities\\SwipeManager.js"}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\menu.js":[function(require,module,exports){
var Menu = function () {
};

module.exports = Menu;

Menu.prototype = {
  create: function () {
    var startText = "Press to start!";
    var textProps = { font: '24pt Arial',
                      fill: '#C24300',
                      strokeThickness: 0 };

    var cinderLogoW = this.game.cache.getImage('cinderLogo').width;
    var cinderLogoH = this.game.cache.getImage('cinderLogo').height;

    var x = (this.game.width / 2) - (cinderLogoW / 2);
    var y = (this.game.height / 3) - (cinderLogoH / 2);

    this.game.add.sprite(x, y, 'cinderLogo');
    this.game.add.text(x, y + cinderLogoH * 1.5, startText, textProps);

    this.input.onDown.add(this.onDown, this);
  },

  update: function () {
  },

  onDown: function () {
    this.game.state.start(playerState.currentLevel);
  }
};

},{}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\preloader.js":[function(require,module,exports){
var Preloader = function (game) {
  this.asset = null;
  this.ready = false;
};

module.exports = Preloader;

Preloader.prototype = {

  preload: function () {
    this.asset = this.add.sprite(320, 240, 'preloader');
    this.asset.anchor.setTo(0.5, 0.5);

    this.load.onLoadComplete.addOnce(this.onLoadComplete, this);
    this.load.setPreloadSprite(this.asset);
    this.load.image('cinderLogo', 'assets/cinder-logo.png');
    this.load.image('cinderFrame', 'assets/cinder-frame.png');
  },

  create: function () {
    this.asset.cropEnabled = false;
  },

  update: function () {
    if (!!this.ready) {
      this.game.state.start('Menu');
    }
  },

  onLoadComplete: function () {
    this.ready = true;
  }
};

},{}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\states\\splash.js":[function(require,module,exports){
var Splash = function () {
};

module.exports = Splash;

Splash.prototype = {
  create: function () {
  }
};
},{}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\utilities\\SwipeManager.js":[function(require,module,exports){
var SwipeManager = function(game, bounds, callback) {
  Phaser.Plugin.call(this, game);
  this.game = game;
  this.bounds = bounds;
  this.onCooldown = false;
  this.cooldown = 0;
  this.onSwipe = callback;
  this.swipeDirection = SwipeManager.SWIPE_DIRECTIONS.LEFT;
};

SwipeManager.prototype = Object.create(Phaser.Plugin.prototype);
SwipeManager.prototype.constructor = SwipeManager;

SwipeManager.prototype.update = function() {
  // TODO: Ensure majority of swipe falls within this.bounds (?)
  var start = this.game.input.activePointer.positionDown;
  var end = this.game.input.activePointer.position;

  var distance = Phaser.Point.distance(start, end);
  var duration = this.game.input.activePointer.duration;

  if (duration > 0 && !this.onCooldown) {
    if (distance > SwipeManager.SWIPE_DIST && duration < SwipeManager.SWIPE_TIME) {
      swipeDirection = end.x > start.x ? SwipeManager.SWIPE_DIRECTIONS.RIGHT :
        SwipeManager.SWIPE_DIRECTIONS.LEFT;
      this.onSwipe(swipeDirection);
      this.onCooldown = true;
    }
  }

  if (this.onCooldown) {
    this.cooldown += 1;

    if (this.cooldown >= SwipeManager.SWIPE_COOLDOWN) {
      this.cooldown = 0;
      this.onCooldown = false;
    }
  }
};

SwipeManager.SWIPE_TIME = 250;
SwipeManager.SWIPE_DIST = 100;
SwipeManager.SWIPE_COOLDOWN = 25;
SwipeManager.SWIPE_DIRECTIONS = {
  LEFT: 0,
  RIGHT: 1
};

module.exports = SwipeManager;

},{}],"C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\utils.js":[function(require,module,exports){
var Utils = {
  containsObject: function(obj, list) {
    var i;
    for (i = 0; i < list.length; i++) {
      if (list[i] === obj) {
        return true;
      }
    }

    return false;
  }
};

module.exports = Utils;

},{}]},{},["C:\\Users\\Admin\\Documents\\Projects\\sagdx\\src\\js\\main.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZW50aXRpZXMvQ2luZGVyUHJvZmlsZS5qcyIsInNyYy9qcy9tYWluLmpzIiwic3JjL2pzL3N0YXRlcy9ib290LmpzIiwic3JjL2pzL3N0YXRlcy9nYW1lLmpzIiwic3JjL2pzL3N0YXRlcy9tZW51LmpzIiwic3JjL2pzL3N0YXRlcy9wcmVsb2FkZXIuanMiLCJzcmMvanMvc3RhdGVzL3NwbGFzaC5qcyIsInNyYy9qcy91dGlsaXRpZXMvU3dpcGVNYW5hZ2VyLmpzIiwic3JjL2pzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIENpbmRlclByb2ZpbGUgPSBmdW5jdGlvbihnYW1lKSB7XHJcbiAgUGhhc2VyLkdyb3VwLmNhbGwodGhpcywgZ2FtZSk7XHJcbiAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICB0aGlzLmltYWdlID0gbnVsbDtcclxuICB0aGlzLm5hbWUgPSBudWxsO1xyXG4gIHRoaXMuYWJvdXRUZXh0ID0gbnVsbDtcclxuICB0aGlzLnNlbGVjdGlvblJlc3VsdCA9IG51bGw7XHJcbiAgdGhpcy5nZW5lcmF0ZVByb2ZpbGUoKTtcclxufTtcclxuXHJcbkNpbmRlclByb2ZpbGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQaGFzZXIuR3JvdXAucHJvdG90eXBlKTtcclxuQ2luZGVyUHJvZmlsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaW5kZXJQcm9maWxlO1xyXG5cclxuQ2luZGVyUHJvZmlsZS5wcm90b3R5cGUuZ2VuZXJhdGVQcm9maWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgLy8gR2VuZXJhdGUgb3IgcmFuZG9tbHkgcGljayBhbHJlYWR5IGdlbmVyYXRlZCBpbWFnZVxyXG4gIC8vIEdlbmVyYXRlIG9yIHJhbmRvbWx5IHBpY2sgYWxyZWFkeSBnZW5lcmF0ZWQgcHJvZmlsZSB0ZXh0XHJcbiAgLy8gR2VuZXJhdGUgcmVzdWx0IG9mIFIvTCBzd2lwZXMgZm9yIHRoaXMgcHJvZmlsZVxyXG5cclxuICB2YXIgd2lkdGggPSB0aGlzLmdhbWUud2lkdGg7XHJcbiAgdmFyIGNpbmRlckZyYW1lVyA9IHRoaXMuZ2FtZS5jYWNoZS5nZXRJbWFnZSgnY2luZGVyRnJhbWUnKS53aWR0aDtcclxuICB2YXIgY2luZGVyRnJhbWVIID0gdGhpcy5nYW1lLmNhY2hlLmdldEltYWdlKCdjaW5kZXJGcmFtZScpLmhlaWdodDtcclxuICB2YXIgb2Zmc2V0ID0gKHdpZHRoIC0gY2luZGVyRnJhbWVXKSAvIDI7XHJcblxyXG4gIHRoaXMuaW1hZ2UgPSB0aGlzLmNyZWF0ZShvZmZzZXQsIG9mZnNldCwgJ2NpbmRlckZyYW1lJyk7XHJcbiAgdGhpcy5uYW1lID0gbmV3IFBoYXNlci5UZXh0KHRoaXMuZ2FtZSwgb2Zmc2V0LCBjaW5kZXJGcmFtZUggKyBvZmZzZXQsIFwiUm9uXCIpO1xyXG4gIHRoaXMuYWJvdXRUZXh0ID0gbmV3IFBoYXNlci5UZXh0KHRoaXMuZ2FtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lLnkgKyB0aGlzLm5hbWUuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSGksIG15IG5hbWUgaXMgUm9uIVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiAnMTJweCBBcmlhbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICB0aGlzLmFkZCh0aGlzLmFib3V0VGV4dCk7XHJcbiAgdGhpcy5hZGQodGhpcy5uYW1lKTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQ2luZGVyUHJvZmlsZTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoNDE0LCA3MzYsIFBoYXNlci5BVVRPLCAnc2FnZHgtZ2FtZScpO1xyXG5cclxud2luZG93LlV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG53aW5kb3cucGxheWVyU3RhdGUgPSB7XHJcbiAgY3VycmVudExldmVsOiAnR2FtZSdcclxufTtcclxuXHJcbmdhbWUuc3RhdGUuYWRkKCdCb290JywgcmVxdWlyZSgnLi9zdGF0ZXMvYm9vdCcpKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ1NwbGFzaCcsIHJlcXVpcmUoJy4vc3RhdGVzL3NwbGFzaCcpKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ1ByZWxvYWRlcicsIHJlcXVpcmUoJy4vc3RhdGVzL3ByZWxvYWRlcicpKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ01lbnUnLCByZXF1aXJlKCcuL3N0YXRlcy9tZW51JykpO1xyXG5nYW1lLnN0YXRlLmFkZCgnR2FtZScsIHJlcXVpcmUoJy4vc3RhdGVzL2dhbWUnKSk7XHJcblxyXG5nYW1lLnN0YXRlLnN0YXJ0KCdCb290Jyk7XHJcbiIsInZhciBCb290ID0gZnVuY3Rpb24gKCkge307XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEJvb3Q7XHJcblxyXG5Cb290LnByb3RvdHlwZSA9IHtcclxuXHJcbiAgcHJlbG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdwcmVsb2FkZXInLCAnYXNzZXRzL3ByZWxvYWRlci5naWYnKTtcclxuICB9LFxyXG5cclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZ2FtZS5pbnB1dC5tYXhQb2ludGVycyA9IDE7XHJcbiAgICB0aGlzLmdhbWUuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gMHhmNmY2ZjI7XHJcblxyXG5cclxuICAgIGlmICh0aGlzLmdhbWUuZGV2aWNlLmRlc2t0b3ApIHtcclxuICAgICAgdGhpcy5nYW1lLnN0YWdlLnNjYWxlLnBhZ2VBbGlnbkhvcml6b250YWxseSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUuc2NhbGVNb2RlID0gUGhhc2VyLlNjYWxlTWFuYWdlci5TSE9XX0FMTDtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLm1pbldpZHRoID0gIDQ4MDtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLm1pbkhlaWdodCA9IDI2MDtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLm1heFdpZHRoID0gNDE0O1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUubWF4SGVpZ2h0ID0gNzM2O1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUuZm9yY2VMYW5kc2NhcGUgPSB0cnVlO1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUucGFnZUFsaWduSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLnNldFNjcmVlblNpemUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdQcmVsb2FkZXInKTtcclxuICB9XHJcbn07XHJcbiIsInZhciBTd2lwZU1hbmFnZXIgPSByZXF1aXJlKCcuLi91dGlsaXRpZXMvU3dpcGVNYW5hZ2VyLmpzJyk7XHJcbnZhciBDaW5kZXJQcm9maWxlID0gcmVxdWlyZSgnLi4vZW50aXRpZXMvQ2luZGVyUHJvZmlsZS5qcycpO1xyXG5cclxudmFyIEdhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY3VycmVudENpbmRlclByb2ZpbGUgPSBudWxsXHJcbn07XHJcblxyXG5HYW1lLnByb3RvdHlwZSA9IHtcclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB4ID0gKHRoaXMuZ2FtZS53aWR0aCAvIDIpIC0gMTAwO1xyXG4gICAgdmFyIHkgPSAodGhpcy5nYW1lLmhlaWdodCAvIDIpO1xyXG5cclxuICAgIHRoaXMuZ2FtZS5wbHVnaW5zLmFkZChuZXcgU3dpcGVNYW5hZ2VyKHRoaXMuZ2FtZSwge30sIHRoaXMub25Td2lwZSkpO1xyXG5cclxuICAgIGN1cnJlbnRDaW5kZXJQcm9maWxlID0gbmV3IENpbmRlclByb2ZpbGUodGhpcy5nYW1lKTtcclxuICB9LFxyXG5cclxuICBvblN3aXBlOiBmdW5jdGlvbihzd2lwZURpcmVjdGlvbikge1xyXG4gICAgdmFyIHRvID0gLTEwMDA7XHJcbiAgICBpZiAoc3dpcGVEaXJlY3Rpb24gPT0gU3dpcGVNYW5hZ2VyLlNXSVBFX0RJUkVDVElPTlMuUklHSFQpXHJcbiAgICAgIHRvID0gMTAwMDtcclxuXHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLm9uVHdlZW5Db21wbGV0ZSk7XHJcbiAgICB2YXIgdHdlZW4gPSB0aGlzLmdhbWUuYWRkLnR3ZWVuKGN1cnJlbnRDaW5kZXJQcm9maWxlLngpXHJcbiAgICB0d2Vlbi5vbkNvbXBsZXRlLmFkZCh0aGlzLm9uVHdlZW5Db21wbGV0ZSwgdGhpcyk7XHJcbiAgICB0d2Vlbi50byh7IHg6IHRvIH0sIDEwMCwgUGhhc2VyLkVhc2luZy5RdWFkcmF0aWMuSW5PdXQsIHRydWUpO1xyXG4gICAgdHdlZW4uc3RhcnQoKTtcclxuICB9LFxyXG5cclxuICBvblR3ZWVuQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgYWxlcnQoJ2hlcmUhJyk7XHJcbiAgfSxcclxuXHJcbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBHYW1lO1xyXG4iLCJ2YXIgTWVudSA9IGZ1bmN0aW9uICgpIHtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTWVudTtcclxuXHJcbk1lbnUucHJvdG90eXBlID0ge1xyXG4gIGNyZWF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN0YXJ0VGV4dCA9IFwiUHJlc3MgdG8gc3RhcnQhXCI7XHJcbiAgICB2YXIgdGV4dFByb3BzID0geyBmb250OiAnMjRwdCBBcmlhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI0MyNDMwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDAgfTtcclxuXHJcbiAgICB2YXIgY2luZGVyTG9nb1cgPSB0aGlzLmdhbWUuY2FjaGUuZ2V0SW1hZ2UoJ2NpbmRlckxvZ28nKS53aWR0aDtcclxuICAgIHZhciBjaW5kZXJMb2dvSCA9IHRoaXMuZ2FtZS5jYWNoZS5nZXRJbWFnZSgnY2luZGVyTG9nbycpLmhlaWdodDtcclxuXHJcbiAgICB2YXIgeCA9ICh0aGlzLmdhbWUud2lkdGggLyAyKSAtIChjaW5kZXJMb2dvVyAvIDIpO1xyXG4gICAgdmFyIHkgPSAodGhpcy5nYW1lLmhlaWdodCAvIDMpIC0gKGNpbmRlckxvZ29IIC8gMik7XHJcblxyXG4gICAgdGhpcy5nYW1lLmFkZC5zcHJpdGUoeCwgeSwgJ2NpbmRlckxvZ28nKTtcclxuICAgIHRoaXMuZ2FtZS5hZGQudGV4dCh4LCB5ICsgY2luZGVyTG9nb0ggKiAxLjUsIHN0YXJ0VGV4dCwgdGV4dFByb3BzKTtcclxuXHJcbiAgICB0aGlzLmlucHV0Lm9uRG93bi5hZGQodGhpcy5vbkRvd24sIHRoaXMpO1xyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gIH0sXHJcblxyXG4gIG9uRG93bjogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KHBsYXllclN0YXRlLmN1cnJlbnRMZXZlbCk7XHJcbiAgfVxyXG59O1xyXG4iLCJ2YXIgUHJlbG9hZGVyID0gZnVuY3Rpb24gKGdhbWUpIHtcclxuICB0aGlzLmFzc2V0ID0gbnVsbDtcclxuICB0aGlzLnJlYWR5ID0gZmFsc2U7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFByZWxvYWRlcjtcclxuXHJcblByZWxvYWRlci5wcm90b3R5cGUgPSB7XHJcblxyXG4gIHByZWxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuYXNzZXQgPSB0aGlzLmFkZC5zcHJpdGUoMzIwLCAyNDAsICdwcmVsb2FkZXInKTtcclxuICAgIHRoaXMuYXNzZXQuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcclxuXHJcbiAgICB0aGlzLmxvYWQub25Mb2FkQ29tcGxldGUuYWRkT25jZSh0aGlzLm9uTG9hZENvbXBsZXRlLCB0aGlzKTtcclxuICAgIHRoaXMubG9hZC5zZXRQcmVsb2FkU3ByaXRlKHRoaXMuYXNzZXQpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdjaW5kZXJMb2dvJywgJ2Fzc2V0cy9jaW5kZXItbG9nby5wbmcnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnY2luZGVyRnJhbWUnLCAnYXNzZXRzL2NpbmRlci1mcmFtZS5wbmcnKTtcclxuICB9LFxyXG5cclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuYXNzZXQuY3JvcEVuYWJsZWQgPSBmYWxzZTtcclxuICB9LFxyXG5cclxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghIXRoaXMucmVhZHkpIHtcclxuICAgICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdNZW51Jyk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgb25Mb2FkQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMucmVhZHkgPSB0cnVlO1xyXG4gIH1cclxufTtcclxuIiwidmFyIFNwbGFzaCA9IGZ1bmN0aW9uICgpIHtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gU3BsYXNoO1xyXG5cclxuU3BsYXNoLnByb3RvdHlwZSA9IHtcclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICB9XHJcbn07IiwidmFyIFN3aXBlTWFuYWdlciA9IGZ1bmN0aW9uKGdhbWUsIGJvdW5kcywgY2FsbGJhY2spIHtcclxuICBQaGFzZXIuUGx1Z2luLmNhbGwodGhpcywgZ2FtZSk7XHJcbiAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICB0aGlzLmJvdW5kcyA9IGJvdW5kcztcclxuICB0aGlzLm9uQ29vbGRvd24gPSBmYWxzZTtcclxuICB0aGlzLmNvb2xkb3duID0gMDtcclxuICB0aGlzLm9uU3dpcGUgPSBjYWxsYmFjaztcclxuICB0aGlzLnN3aXBlRGlyZWN0aW9uID0gU3dpcGVNYW5hZ2VyLlNXSVBFX0RJUkVDVElPTlMuTEVGVDtcclxufTtcclxuXHJcblN3aXBlTWFuYWdlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBoYXNlci5QbHVnaW4ucHJvdG90eXBlKTtcclxuU3dpcGVNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN3aXBlTWFuYWdlcjtcclxuXHJcblN3aXBlTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgLy8gVE9ETzogRW5zdXJlIG1ham9yaXR5IG9mIHN3aXBlIGZhbGxzIHdpdGhpbiB0aGlzLmJvdW5kcyAoPylcclxuICB2YXIgc3RhcnQgPSB0aGlzLmdhbWUuaW5wdXQuYWN0aXZlUG9pbnRlci5wb3NpdGlvbkRvd247XHJcbiAgdmFyIGVuZCA9IHRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uO1xyXG5cclxuICB2YXIgZGlzdGFuY2UgPSBQaGFzZXIuUG9pbnQuZGlzdGFuY2Uoc3RhcnQsIGVuZCk7XHJcbiAgdmFyIGR1cmF0aW9uID0gdGhpcy5nYW1lLmlucHV0LmFjdGl2ZVBvaW50ZXIuZHVyYXRpb247XHJcblxyXG4gIGlmIChkdXJhdGlvbiA+IDAgJiYgIXRoaXMub25Db29sZG93bikge1xyXG4gICAgaWYgKGRpc3RhbmNlID4gU3dpcGVNYW5hZ2VyLlNXSVBFX0RJU1QgJiYgZHVyYXRpb24gPCBTd2lwZU1hbmFnZXIuU1dJUEVfVElNRSkge1xyXG4gICAgICBzd2lwZURpcmVjdGlvbiA9IGVuZC54ID4gc3RhcnQueCA/IFN3aXBlTWFuYWdlci5TV0lQRV9ESVJFQ1RJT05TLlJJR0hUIDpcclxuICAgICAgICBTd2lwZU1hbmFnZXIuU1dJUEVfRElSRUNUSU9OUy5MRUZUO1xyXG4gICAgICB0aGlzLm9uU3dpcGUoc3dpcGVEaXJlY3Rpb24pO1xyXG4gICAgICB0aGlzLm9uQ29vbGRvd24gPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHRoaXMub25Db29sZG93bikge1xyXG4gICAgdGhpcy5jb29sZG93biArPSAxO1xyXG5cclxuICAgIGlmICh0aGlzLmNvb2xkb3duID49IFN3aXBlTWFuYWdlci5TV0lQRV9DT09MRE9XTikge1xyXG4gICAgICB0aGlzLmNvb2xkb3duID0gMDtcclxuICAgICAgdGhpcy5vbkNvb2xkb3duID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuU3dpcGVNYW5hZ2VyLlNXSVBFX1RJTUUgPSAyNTA7XHJcblN3aXBlTWFuYWdlci5TV0lQRV9ESVNUID0gMTAwO1xyXG5Td2lwZU1hbmFnZXIuU1dJUEVfQ09PTERPV04gPSAyNTtcclxuU3dpcGVNYW5hZ2VyLlNXSVBFX0RJUkVDVElPTlMgPSB7XHJcbiAgTEVGVDogMCxcclxuICBSSUdIVDogMVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTd2lwZU1hbmFnZXI7XHJcbiIsInZhciBVdGlscyA9IHtcclxuICBjb250YWluc09iamVjdDogZnVuY3Rpb24ob2JqLCBsaXN0KSB7XHJcbiAgICB2YXIgaTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChsaXN0W2ldID09PSBvYmopIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFV0aWxzO1xyXG4iXX0=
